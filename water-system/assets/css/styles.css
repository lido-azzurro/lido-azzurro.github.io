:root{
  --bg:#eef7ff;
  --panel:#ffffff;
  --card:#ffffff;
  --stroke:rgba(10,25,40,.14);
  --text:#0a192f;
  --muted:#334155;
  --accent:#2aa7ff;
  --accent2:#5e7cff;
  --danger:#d63a3a;
  --ok:#0aa86b;
  --shadow:0 14px 34px rgba(10,25,40,.12);
  --radius:16px;
  --font:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
  --mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:radial-gradient(1100px 700px at 30% -10%,rgba(42,167,255,.18),transparent),radial-gradient(900px 600px at 90% 20%,rgba(120,230,170,.16),transparent),radial-gradient(900px 520px at 20% 90%,rgba(255,235,170,.22),transparent),var(--bg);color:var(--text);font-family:var(--font)}
a{color:inherit}
.container{max-width:1140px;margin:0 auto;padding:24px}
.muted{color:var(--muted)}
.mono{font-family:var(--mono)}

.topbar{position:sticky;top:0;z-index:10;background:rgba(255,255,255,.78);backdrop-filter:blur(10px);border-bottom:1px solid var(--stroke)}
.topbar{display:flex;align-items:center;justify-content:space-between;padding:14px 24px}
.brand-logo{height:40px;width:auto;object-fit:contain}
.nav{display:flex;gap:10px;flex-wrap:wrap}
.nav__link{text-decoration:none;padding:8px 10px;border-radius:999px;border:1px solid transparent;color:var(--muted)}
.nav__link:hover{border-color:var(--stroke);color:var(--text)}
.nav__link.is-active{background:rgba(107,228,255,.12);border-color:rgba(107,228,255,.25);color:var(--text)}

 .nav-item{position:relative}
 .nav__link.has-menu{display:inline-flex;align-items:center;gap:8px}
 .nav__caret{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:6px solid rgba(10,25,40,.55);margin-top:2px}
 .nav-menu{position:absolute;top:44px;left:0;min-width:220px;border-radius:14px;border:1px solid var(--stroke);background:rgba(255,255,255,.92);box-shadow:var(--shadow);padding:8px;display:none}
 .nav-item[open] .nav-menu{display:block}
 .nav-item > summary{list-style:none}
 .nav-item > summary::-webkit-details-marker{display:none}
 .nav-menu a{display:block;text-decoration:none;color:var(--text);padding:10px 10px;border-radius:12px}
 .nav-menu a:hover{background:rgba(42,167,255,.12)}
 .nav-menu a.is-current{background:rgba(42,167,255,.16);border:1px solid rgba(42,167,255,.22)}

.hero{display:grid;grid-template-columns:1fr;gap:18px;align-items:stretch;margin-top:10px}
.hero--with-bg{background-image:url('/water-plump.jpeg');background-size:cover;background-position:center;background-repeat:no-repeat;border-radius:var(--radius);padding:60px 40px;color:white;text-shadow:0 2px 4px rgba(0,0,0,0.5)}
.hero--with-bg .hero__title{color:white}
.hero--with-bg .hero__subtitle{color:rgba(255,255,255,0.9)}
.hero--with-bg .btn--primary{background:linear-gradient(135deg,rgba(255,255,255,.9),rgba(255,255,255,.8));color:var(--text);border-color:rgba(255,255,255,.5)}
.hero__title{font-size:40px;line-height:1.08;margin:0 0 10px}
.hero__subtitle{margin:0 0 16px;color:var(--muted);max-width:56ch}
.hero__actions{display:flex;gap:10px;flex-wrap:wrap}

.btn{display:inline-flex;align-items:center;justify-content:center;padding:10px 14px;border-radius:12px;border:1px solid var(--stroke);background:rgba(255,255,255,.04);text-decoration:none}
.btn--primary{background:linear-gradient(135deg,rgba(107,228,255,.22),rgba(124,155,255,.18));border-color:rgba(107,228,255,.3)}

.panel{border:1px solid var(--stroke);background:linear-gradient(180deg,rgba(255,255,255,.92),rgba(255,255,255,.8));border-radius:var(--radius);box-shadow:var(--shadow);padding:16px}
.panel__title{font-weight:700;margin-bottom:10px}
.panel__note{margin-top:10px;color:var(--muted);font-size:14px}

.cta-section{padding:80px 40px;margin-top:40px;border-radius:var(--radius);text-align:center;color:white;text-shadow:0 2px 4px rgba(0,0,0,0.5)}
.cta-section--with-bg{background-image:url('/water-plump2.jpeg');background-size:cover;background-position:center;background-repeat:no-repeat}
.cta-title{font-size:32px;margin-bottom:24px;color:white}
.cta-content{max-width:600px;margin:0 auto}

.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin-top:18px}
.card{display:block;text-decoration:none;border:1px solid var(--stroke);background:rgba(255,255,255,.03);border-radius:var(--radius);padding:16px;box-shadow:0 10px 26px rgba(0,0,0,.22)}
.card:hover{border-color:rgba(107,228,255,.22);transform:translateY(-1px)}
.card__kicker{color:var(--muted);font-size:12px;text-transform:uppercase;letter-spacing:.16em}
.card__title{font-weight:750;font-size:18px;margin-top:8px}
.card__body{color:var(--muted);margin-top:8px;line-height:1.4}

.page-title{margin:0 0 10px;font-size:34px;letter-spacing:-.02em}
.sim-header{margin:14px 0 12px}
.sim-layout{display:grid;grid-template-columns:260px 1fr;gap:14px}
.tabs{border:1px solid var(--stroke);border-radius:var(--radius);background:rgba(255,255,255,.82);padding:10px;box-shadow:var(--shadow)}
.tab{width:100%;text-align:left;border-radius:14px;border:1px solid rgba(10,25,40,.10);background:rgba(255,255,255,.75);color:var(--text);padding:12px 12px;cursor:pointer;transition:transform .25s ease,box-shadow .25s ease,border-color .25s ease}
.tab:hover{transform:scale(1.03);border-color:rgba(42,167,255,.28);box-shadow:0 10px 22px rgba(10,25,40,.10)}
.tab.is-active{background:rgba(42,167,255,.14);border-color:rgba(42,167,255,.32)}
.tabs__hint{margin-top:10px;color:var(--muted);font-size:13px}

 .tab[data-sim="pumping"]{background:linear-gradient(135deg,rgba(42,167,255,.18),rgba(255,255,255,.75))}
 .tab[data-sim="solar"]{background:linear-gradient(135deg,rgba(255,235,170,.55),rgba(255,255,255,.78))}
 .tab[data-sim="filtration"]{background:linear-gradient(135deg,rgba(120,230,170,.28),rgba(255,255,255,.78))}
 .tab[data-sim="hardness"]{background:linear-gradient(135deg,rgba(94,124,255,.18),rgba(255,255,255,.78))}
 .tab[data-sim="treatment"]{background:linear-gradient(135deg,rgba(255,181,77,.24),rgba(255,255,255,.78))}
.workspace__card{min-height:520px;border:1px solid var(--stroke);border-radius:var(--radius);background:rgba(255,255,255,.88);box-shadow:var(--shadow);padding:16px}

 .sim-title-row{display:flex;align-items:flex-end;justify-content:space-between;gap:12px;margin-bottom:12px}
 .sim-kicker{color:var(--muted);font-size:12px;text-transform:uppercase;letter-spacing:.16em}
 .sim-title{font-weight:820;font-size:24px;letter-spacing:-.02em;margin-top:6px}
 .sim-subtitle{color:var(--muted)}
 .sim-grid{display:grid;grid-template-columns:1.05fr 1fr;gap:14px}
 .sim-stack{display:flex;flex-direction:column;gap:14px}
 .sim-card{border:1px solid var(--stroke);border-radius:var(--radius);background:rgba(255,255,255,.84);padding:14px}
 .sim-card__title{font-weight:780;margin-bottom:10px}

 .control{padding:10px 0;border-top:1px solid rgba(255,255,255,.08)}
 .control:first-of-type{border-top:none;padding-top:0}
 .control__row{display:flex;align-items:center;justify-content:space-between;gap:12px}
 .control__label{color:var(--text)}
 .control__value{color:var(--muted)}
 .range{width:100%;margin-top:8px}

 .metrics{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}
 .metric{border:1px solid rgba(10,25,40,.10);border-radius:14px;background:rgba(255,255,255,.72);padding:10px}
 .metric__label{color:var(--muted);font-size:13px}
 .metric__value{margin-top:6px;font-size:18px}

 .badge{display:inline-flex;align-items:center;justify-content:center;min-height:30px;padding:6px 10px;border-radius:999px;border:1px solid rgba(10,25,40,.14);background:rgba(255,255,255,.8);font-weight:700;font-size:13px}
 .badge[data-state="Working"]{border-color:rgba(69,243,158,.35);background:rgba(69,243,158,.14)}
 .badge[data-state="Operating"]{border-color:rgba(69,243,158,.35);background:rgba(69,243,158,.14)}
 .badge[data-state="Insufficient power"]{border-color:rgba(255,93,93,.3);background:rgba(255,93,93,.14)}
 .badge[data-state="Overloaded"]{border-color:rgba(255,93,93,.45);background:rgba(255,93,93,.2)}
 .badge[data-state="Soft"],
 .badge[data-state="Low risk"]{border-color:rgba(69,243,158,.35);background:rgba(69,243,158,.14)}
 .badge[data-state="Moderately hard"],
 .badge[data-state="Medium risk"]{border-color:rgba(255,181,77,.38);background:rgba(255,181,77,.16)}
 .badge[data-state="Hard"],
 .badge[data-state="Very hard"],
 .badge[data-state="High risk"]{border-color:rgba(255,93,93,.45);background:rgba(255,93,93,.2)}

 .pumping-viz{display:grid;grid-template-columns:1fr 1fr;gap:14px;align-items:end;min-height:220px}
 .well__label,.tank__label{color:var(--muted);font-size:13px;margin-bottom:8px}
 .well__shaft{position:relative;height:180px;border-radius:16px;border:1px solid rgba(255,255,255,.12);background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(0,0,0,.12));overflow:hidden}
 .well__water{position:absolute;left:0;right:0;bottom:0;height:45%;background:linear-gradient(180deg,rgba(107,228,255,.55),rgba(107,228,255,.2));transition:height .25s ease}
 .pipe{position:absolute;left:50%;bottom:0;transform:translateX(-50%);width:14px;height:100%;border-radius:999px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.06)}
 .pipe.is-flowing{background:linear-gradient(180deg,rgba(107,228,255,.45),rgba(107,228,255,.08));box-shadow:0 0 0 1px rgba(107,228,255,.12) inset;animation:pipePulse 1.2s ease-in-out infinite}
 .pipe[data-stress="mid"]{border-color:rgba(255,255,255,.22)}
 .pipe[data-stress="high"]{border-color:rgba(255,93,93,.45);box-shadow:0 0 0 1px rgba(255,93,93,.2) inset}
 @keyframes pipePulse{0%{filter:saturate(1);opacity:.9}50%{filter:saturate(1.3);opacity:1}100%{filter:saturate(1);opacity:.9}}

 .tank__shell{position:relative;height:180px;border-radius:18px;border:1px solid rgba(255,255,255,.12);background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(0,0,0,.14));overflow:hidden}
 .tank__fill{position:absolute;left:0;right:0;bottom:0;height:0%;background:linear-gradient(180deg,rgba(124,155,255,.55),rgba(124,155,255,.18));transition:height .25s ease}
 .tank__ticks{position:absolute;left:0;right:0;top:0;bottom:0;pointer-events:none}
 .tank__tick{position:absolute;left:0;right:0;height:1px;background:rgba(255,255,255,.1)}

 .sim-card canvas{display:block;max-width:100%;height:auto;border-radius:12px}

 .range{accent-color:var(--accent)}

 .pumping-viz{grid-template-columns:1fr 180px 1fr}
 .pump-rig{display:flex;flex-direction:column;gap:10px;align-items:center;justify-content:flex-end}
 .pump-rig__label{color:rgba(10,25,40,.62);font-size:13px}
 .pump-unit{position:relative;width:140px;height:120px;border-radius:18px;border:2px solid var(--stroke);background:linear-gradient(145deg,#f8fafc, #e2e8f0);box-shadow:0 8px 20px rgba(0,0,0,.15), inset 0 2px 4px rgba(255,255,255,.9);overflow:hidden}
 .pump-unit__head{position:absolute;left:15px;top:15px;width:70px;height:35px;border-radius:12px;border:2px solid var(--stroke);background:linear-gradient(145deg,#3b82f6, #2563eb);box-shadow:inset 0 2px 4px rgba(0,0,0,.2)}
 .pump-unit__body{position:absolute;left:25px;top:50px;width:90px;height:50px;border-radius:15px;border:2px solid var(--stroke);background:linear-gradient(145deg,#64748b, #475569);box-shadow:inset 0 2px 4px rgba(0,0,0,.3)}
 .pump-unit__rotor{position:absolute;right:20px;top:25px;width:38px;height:38px;border-radius:50%;border:3px solid var(--stroke);background:radial-gradient(circle at 30% 30%,#60a5fa, #3b82f6);box-shadow:0 4px 8px rgba(0,0,0,.2), inset 0 2px 4px rgba(255,255,255,.3)}
 .pump-unit__rotor::before{content:"";position:absolute;inset:8px;border-radius:50%;background:radial-gradient(circle, #1e40af, #3b82f6)}
 .pump-unit__impeller{position:absolute;left:50%;top:65%;width:60px;height:8px;background:linear-gradient(90deg, #94a3b8, #64748b, #94a3b8);transform:translateX(-50%) rotate(0deg);border-radius:4px;box-shadow:0 2px 4px rgba(0,0,0,.2)}
 .pump-unit.is-working{border-color:var(--ok);box-shadow:0 12px 26px rgba(0,168,107,.2), inset 0 2px 4px rgba(255,255,255,.9)}
 .pump-unit.is-working .pump-unit__rotor{animation:rotorSpin .7s linear infinite}
 .pump-unit.is-working .pump-unit__impeller{animation:impellerSpin .5s linear infinite}
 .pump-unit.is-working{animation:pumpShake .22s linear infinite}
 .pump-unit.is-insufficient{border-color:var(--danger);opacity:0.7}
 .pump-unit.is-overloaded{border-color:var(--danger);box-shadow:0 14px 30px rgba(214,58,58,.3), inset 0 2px 4px rgba(255,255,255,.9)}
 @keyframes impellerSpin{from{transform:translateX(-50%) rotate(0deg)}to{transform:translateX(-50%) rotate(360deg)}}
 .flow-path{position:relative;width:160px;height:10px;border-radius:999px;border:1px solid rgba(10,25,40,.12);background:rgba(10,25,40,.05);overflow:hidden}
 .flow-path__water{height:100%;width:100%;opacity:0;background:repeating-linear-gradient(90deg,rgba(42,167,255,.0) 0 10px,rgba(42,167,255,.65) 10px 16px,rgba(42,167,255,.0) 16px 28px);animation:energyMove 1.2s linear infinite}
 .flow-path__water.is-on{opacity:1}

 .viz-row{display:grid;grid-template-columns:1fr 1fr;gap:14px;align-items:center}
 .viz-box{border:1px solid rgba(255,255,255,.12);border-radius:16px;background:rgba(0,0,0,.12);padding:12px}
 .viz-title{color:var(--muted);font-size:13px;margin-bottom:10px}
 .meter{height:12px;border-radius:999px;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.12);overflow:hidden}
 .meter__fill{height:100%;width:0%;background:linear-gradient(90deg,rgba(69,243,158,.85),rgba(107,228,255,.7));transition:width .2s ease}
 .meter__fill.is-warn{background:linear-gradient(90deg,rgba(255,181,77,.85),rgba(255,93,93,.75))}
 .meter__fill.is-danger{background:linear-gradient(90deg,rgba(255,93,93,.85),rgba(255,93,93,.6))}

 .icon-row{display:flex;align-items:center;gap:10px}
 .icon{width:44px;height:44px;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.04);display:flex;align-items:center;justify-content:center}
 .icon svg{width:26px;height:26px}

 .solar-scene{position:relative;height:190px;border-radius:16px;border:1px solid rgba(255,255,255,.12);background:linear-gradient(180deg,rgba(107,228,255,.10),rgba(0,0,0,.16));overflow:hidden}
 .solar-sky{position:absolute;inset:0;background:linear-gradient(180deg,rgba(107,228,255,.22),rgba(11,18,32,.25));opacity:.75;transition:opacity .25s ease,filter .25s ease}
 .solar-sky.is-dark{opacity:.32;filter:saturate(.8) brightness(.85)}
 .solar-sun{position:absolute;left:16px;top:16px;width:74px;height:74px;border-radius:999px;background:radial-gradient(circle at 30% 30%,rgba(255,255,255,.9),rgba(255,217,115,.7),rgba(255,181,77,.25));filter:saturate(1.1);transition:opacity .2s ease,transform .2s ease}
 .solar-sun::after{content:"";position:absolute;inset:-34px;border-radius:999px;background:radial-gradient(circle,rgba(255,217,115,.32),transparent 62%);opacity:calc(.10 + var(--glow,1) * .55);transform:scale(calc(.72 + var(--glow,1) * .55));transition:opacity .25s ease,transform .25s ease}
 .solar-cloud{position:absolute;left:78px;top:34px;width:120px;height:54px;border-radius:999px;background:rgba(255,255,255,.12);filter:blur(.2px);opacity:0;transform:translateX(-10px);transition:opacity .2s ease,transform .2s ease}
 .solar-cloud::before{content:"";position:absolute;left:-18px;top:12px;width:52px;height:32px;border-radius:999px;background:rgba(255,255,255,.12)}
 .solar-cloud::after{content:"";position:absolute;right:-18px;top:16px;width:56px;height:36px;border-radius:999px;background:rgba(255,255,255,.12)}
 .solar-panel{position:absolute;right:18px;bottom:18px;width:170px;height:96px;border-radius:14px;border:1px solid rgba(107,228,255,.18);background:linear-gradient(135deg,rgba(16,26,47,.8),rgba(15,25,48,.6));box-shadow:0 10px 26px rgba(0,0,0,.22)}
 .solar-panel__grid{position:absolute;inset:10px;border-radius:10px;background:linear-gradient(180deg,rgba(107,228,255,.08),rgba(0,0,0,.12));border:1px solid rgba(255,255,255,.08);display:grid;grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(4,1fr);gap:4px;padding:6px}
 .solar-cell{border-radius:7px;border:1px solid rgba(255,255,255,.08);background:rgba(255,255,255,.02);transition:background .18s ease,box-shadow .18s ease,border-color .18s ease}
 .solar-cell.is-on{background:rgba(107,228,255,.16);border-color:rgba(107,228,255,.22);box-shadow:0 0 0 1px rgba(107,228,255,.12) inset}
 .solar-panel__glow{position:absolute;inset:-20px;background:radial-gradient(closest-side,rgba(107,228,255,.22),transparent 70%);opacity:0;transition:opacity .2s ease}
 .solar-panel__reflect{position:absolute;inset:0;border-radius:14px;background:linear-gradient(120deg,transparent 36%,rgba(255,255,255,.10) 48%,transparent 60%);opacity:.0;transform:translateX(-55%);pointer-events:none}
 .solar-panel.is-active .solar-panel__reflect{opacity:.65;animation:reflectSweep 1.6s ease-in-out infinite}
 @keyframes reflectSweep{0%{transform:translateX(-55%)}50%{transform:translateX(55%)}100%{transform:translateX(55%)}}
 .energy-link{position:absolute;left:45%;bottom:34px;width:140px;height:8px;border-radius:999px;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.10);overflow:hidden}
 .energy-link__flow{height:100%;width:100%;background:repeating-linear-gradient(90deg,rgba(107,228,255,.0) 0 8px,rgba(107,228,255,.75) 8px 12px,rgba(107,228,255,.0) 12px 20px);animation:energyMove 1s linear infinite;opacity:0}
 @keyframes energyMove{0%{transform:translateX(-40%)}100%{transform:translateX(140%)}}
 .pump-indicator{position:absolute;left:18px;bottom:18px;width:180px;height:54px;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:rgba(0,0,0,.14);display:flex;align-items:center;justify-content:space-between;padding:10px 12px}
 .pump-light{width:14px;height:14px;border-radius:999px;background:rgba(255,93,93,.8);box-shadow:0 0 0 4px rgba(255,93,93,.14)}
 .pump-light.is-on{background:rgba(69,243,158,.9);box-shadow:0 0 0 4px rgba(69,243,158,.14)}
 .pump-body{width:36px;height:28px;border-radius:10px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.05);position:relative;overflow:hidden}
 .pump-rotor{position:absolute;left:50%;top:50%;width:16px;height:16px;border-radius:999px;border:1px solid rgba(255,255,255,.18);transform:translate(-50%,-50%);opacity:.65}
 .pump-rotor::before{content:"";position:absolute;inset:4px;border-radius:999px;background:rgba(107,228,255,.18)}
 .pump-body.is-on{border-color:rgba(69,243,158,.22);background:rgba(69,243,158,.06);animation:pumpShake .22s linear infinite}
 .pump-body.is-on .pump-rotor{animation:rotorSpin .7s linear infinite;opacity:.9}
 @keyframes rotorSpin{from{transform:translate(-50%,-50%) rotate(0)}to{transform:translate(-50%,-50%) rotate(360deg)}}
 @keyframes pumpShake{0%{transform:translate(0,0)}25%{transform:translate(1px,0)}50%{transform:translate(0,1px)}75%{transform:translate(-1px,0)}100%{transform:translate(0,0)}}

 .filter-scene{position:relative;height:190px;border-radius:16px;border:1px solid rgba(255,255,255,.12);background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(0,0,0,.16));overflow:hidden}
 .filter-cols{display:grid;grid-template-columns:1fr 160px 1fr;gap:12px;align-items:center;height:100%}
 .water-col{height:150px;border-radius:14px;border:1px solid rgba(255,255,255,.10);background:rgba(0,0,0,.14);position:relative;overflow:hidden}
 .water-fill{position:absolute;left:0;right:0;top:0;bottom:0;opacity:.9;transition:background .2s ease}
 .particle-layer{position:absolute;inset:0;pointer-events:none}
 .particle{position:absolute;width:4px;height:4px;border-radius:999px;background:rgba(30,20,12,.35);opacity:.0;filter:blur(.1px)}
 .particle.is-on{opacity:.9}
 .particle.is-light{background:rgba(255,255,255,.18)}
 .particle.is-mid{background:rgba(90,70,45,.40)}
 .particle.is-dark{background:rgba(30,20,12,.55)}
 .water-shimmer{position:absolute;left:-40%;top:0;width:60%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.08),transparent);animation:waterMove 1.3s linear infinite;opacity:.35}
 @keyframes waterMove{0%{transform:translateX(0)}100%{transform:translateX(240%)}}
 .filter-core{height:150px;border-radius:14px;border:1px solid rgba(107,228,255,.16);background:rgba(16,26,47,.55);position:relative;overflow:hidden}
 .filter-trap{position:absolute;inset:10px;border-radius:10px;pointer-events:none;opacity:.95}
 .trap-dot{position:absolute;width:4px;height:4px;border-radius:999px;background:rgba(255,181,77,.32);box-shadow:0 0 0 1px rgba(255,181,77,.06) inset}
 .filter-layers{position:absolute;inset:10px;border-radius:10px;display:grid;gap:6px}
 .filter-layer{border-radius:9px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.04)}
 .flow-bar{position:absolute;left:0;right:0;bottom:0;height:10px;background:rgba(255,255,255,.06);border-top:1px solid rgba(255,255,255,.10)}
 .flow-bar__fill{height:100%;width:0%;background:linear-gradient(90deg,rgba(107,228,255,.65),rgba(124,155,255,.5));transition:width .2s ease}

 .lab-scene{position:relative;height:190px;border-radius:16px;border:1px solid rgba(255,255,255,.12);background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(0,0,0,.16));overflow:hidden;padding:12px}
 .beaker{position:relative;width:120px;height:150px;border-radius:18px 18px 22px 22px;border:1px solid rgba(255,255,255,.16);background:rgba(255,255,255,.03);overflow:hidden}
 .beaker__solution{position:absolute;left:0;right:0;bottom:0;height:65%;background:linear-gradient(180deg,rgba(69,243,158,.45),rgba(69,243,158,.18));transition:filter .2s ease,background .2s ease}
 .beaker__meniscus{position:absolute;left:0;right:0;bottom:65%;height:6px;background:rgba(255,255,255,.06)}
 .ion-layer{position:absolute;left:0;right:0;bottom:0;height:65%;pointer-events:none}
 .ion{position:absolute;width:7px;height:7px;border-radius:999px;opacity:.85;filter:blur(.05px)}
 .ion.ca{background:rgba(107,228,255,.45);box-shadow:0 0 0 1px rgba(107,228,255,.12) inset}
 .ion.mg{background:rgba(124,155,255,.32);box-shadow:0 0 0 1px rgba(124,155,255,.10) inset}
 .ion.is-off{opacity:0}
 .equip{display:flex;align-items:center;gap:10px}
 .pipe-icon{position:relative;width:56px;height:28px;border-radius:999px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.04);overflow:hidden}
 .pipe-scale{position:absolute;inset:0;background:radial-gradient(circle at 30% 30%,rgba(255,255,255,.08),rgba(255,255,255,.0) 58%),linear-gradient(180deg,rgba(255,255,255,.0),rgba(255,255,255,.18));opacity:0;transition:opacity .2s ease}
 .pipe-scale.is-on{opacity:1}
 .hard-scale{flex:1}
 .hard-scale__bar{height:14px;border-radius:999px;border:1px solid rgba(255,255,255,.12);background:linear-gradient(90deg,rgba(69,243,158,.55),rgba(255,181,77,.55),rgba(255,93,93,.55));position:relative}
 .hard-scale__pin{position:absolute;top:-6px;width:10px;height:26px;border-radius:999px;background:rgba(255,255,255,.85);box-shadow:0 6px 20px rgba(0,0,0,.25);transform:translateX(-50%);transition:left .2s ease}
 .warn{display:inline-flex;align-items:center;gap:8px;border-radius:999px;padding:6px 10px;border:1px solid rgba(255,93,93,.35);background:rgba(255,93,93,.14);font-weight:700;font-size:13px}
 .warn.is-muted{border-color:rgba(255,255,255,.14);background:rgba(255,255,255,.06);color:rgba(255,255,255,.78)}

 .treat-scene{display:grid;grid-template-columns:1fr 1fr;gap:12px}
 .treat-card{border:1px solid rgba(255,255,255,.12);border-radius:16px;background:rgba(0,0,0,.12);padding:12px;position:relative;overflow:hidden}
 .treat-water{height:92px;border-radius:14px;border:1px solid rgba(255,255,255,.10);background:rgba(0,0,0,.14);overflow:hidden;position:relative}
 .treat-water__fill{position:absolute;inset:0;background:linear-gradient(180deg,rgba(255,93,93,.24),rgba(124,155,255,.18));transition:filter .2s ease,opacity .2s ease}
 .treat-ion-layer{position:absolute;inset:0;pointer-events:none}
 .treat-ion{position:absolute;width:6px;height:6px;border-radius:999px;background:rgba(255,255,255,.12);opacity:.0}
 .treat-ion.is-on{opacity:.85}
 .treat-ion.ca{background:rgba(107,228,255,.35)}
 .treat-ion.mg{background:rgba(124,155,255,.25)}
 .droplet{position:absolute;top:-16px;width:10px;height:14px;border-radius:999px 999px 999px 999px;background:rgba(255,255,255,.14);filter:blur(.05px);animation:dropletFall .55s ease-in forwards;opacity:.85}
 @keyframes dropletFall{0%{transform:translateY(0) scale(.9);opacity:0}25%{opacity:.85}100%{transform:translateY(120px) scale(.75);opacity:0}}
 .reaction{position:absolute;inset:0;pointer-events:none;opacity:0}
 .reaction.is-on{opacity:1}
 .reaction::after{content:"";position:absolute;left:50%;top:50%;width:10px;height:10px;border-radius:999px;background:radial-gradient(circle,rgba(107,228,255,.18),transparent 70%);transform:translate(-50%,-50%);animation:reactionPulse 1.0s ease-out infinite}
 @keyframes reactionPulse{0%{width:10px;height:10px;opacity:.65}100%{width:240px;height:240px;opacity:0}}
 .sludge{position:absolute;left:0;right:0;bottom:0;height:0%;background:linear-gradient(180deg,rgba(255,181,77,.0),rgba(255,181,77,.16));transition:height .25s ease,opacity .25s ease;opacity:0}
 .sludge.is-on{opacity:1}
 .bubbles{position:absolute;inset:0;opacity:0;transition:opacity .2s ease}
 .bubbles::before,.bubbles::after{content:"";position:absolute;left:20%;bottom:-20px;width:14px;height:14px;border-radius:999px;background:rgba(255,255,255,.16);animation:bubbleUp 1.4s ease-in-out infinite}
 .bubbles::after{left:62%;width:10px;height:10px;animation-duration:1.1s;animation-delay:.2s}
 @keyframes bubbleUp{0%{transform:translateY(0);opacity:0}25%{opacity:.8}100%{transform:translateY(-120px);opacity:0}}

.prose{max-width:920px}
.prose h2{margin-top:22px}
.prose p,.prose li{color:rgba(255,255,255,.78);line-height:1.55}
.formula{font-family:var(--mono);padding:10px 12px;border-radius:12px;border:1px solid var(--stroke);background:rgba(0,0,0,.18);display:inline-block}
.callout{border:1px solid rgba(107,228,255,.25);background:rgba(107,228,255,.08);border-radius:var(--radius);padding:14px}
.callout__title{font-weight:800;margin-bottom:6px}

.footer{border-top:1px solid var(--stroke);margin-top:26px}
.footer__inner{display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;padding-top:16px;padding-bottom:16px}

@media (max-width:980px){
  .hero{grid-template-columns:1fr}
  .grid{grid-template-columns:repeat(2,1fr)}
  .sim-layout{grid-template-columns:1fr}
  .sim-grid{grid-template-columns:1fr}
  .pumping-viz{grid-template-columns:1fr;gap:20px}
  .pump-rig{order:2}
  .tank{order:3}
}
@media (max-width:640px){
  .container{padding:16px}
  .grid{grid-template-columns:1fr}
  .hero__title{font-size:28px}
  .hero--with-bg{padding:40px 20px}
  .cta-section{padding:60px 20px}
  .cta-title{font-size:24px}
  .tab{padding:16px 16px;font-size:15px}
  .range{height:48px;font-size:16px}
  .control__row{gap:8px;flex-wrap:wrap}
  .metrics{grid-template-columns:1fr}
  .btn{padding:12px 16px;font-size:15px}
  .pumping-viz{grid-template-columns:1fr;gap:16px}
  .pump-unit{width:120px;height:100px}
  .flow-path{width:140px}
  .well__shaft,.tank__shell{height:150px}
  .sim-card{padding:12px}
  .workspace__card{padding:12px;min-height:480px}
  body{overflow-x:hidden}
  *{max-width:100%}
}
